<div class="md-accordion" ng-repeat="templateType in $ctrl.templateTypes">
    <md-toolbar ng-click="templateType.expanded = !templateType.expanded; templateType.searchBy = ''">
        <div class="md-toolbar-tools">
            <h2 ng-class="templateType.cssClass">
                <i class="fa fa-fw" ng-class="templateType.icon"></i>{{templateType.title}}
            </h2>
            <span flex=""></span>
            <span ng-class="{expandCollapse:true, active:templateType.expanded}"></span>
        </div>
    </md-toolbar>
    <div class="dataContent" ng-class="{activeContent:templateType.expanded}"
         ng-style="templateType.margin && {'margin-bottom': '7px'}">
        <input type="text" placeholder="Search..." class="mc-input-as-line" ng-model="templateType.searchBy">
    </div>
    <div ng-repeat="template in templateType.templates | filter:templateType.searchBy | orderBy:'name'"
         ng-click="$ctrl.chooseTemplate(template)"
         class="dataContent"
         ng-class="{activeContent:templateType.expanded}">
        {{template.name}}
    </div>
</div>
