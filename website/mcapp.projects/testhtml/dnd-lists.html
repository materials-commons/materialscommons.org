<!DOCTYPE html>
<html ng-app="drag-and-drop">
<head lang="en">
    <meta charset="utf-8">
    <title>Drag & Drop: Multiple lists</title>
    <!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.0.1/angular.min.js"></script>
    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/css/bootstrap.min.css" rel="stylesheet"> -->
    <script src="../app/assets/js/jquery.js"></script>
    <script src="../app/assets/js/jquery-ui-1.10.1.custom.js"></script>
    <script src="../app/assets/js/angular/angular.min.js"></script>
    <script src="../app/assets/js/angular/angular-dragdrop.min.js"></script>
    <link href="../app/assets/css/bootstrap.css" rel="stylesheet">
    <style>
        .thumbnail {
            height: 280px !important;
        }

        .btn-droppable {
            width: 180px;
            height: 30px;
            padding-left: 4px;
        }

        .btn-draggable {
            width: 160px;
        }
    </style>

    <script type="text/javascript">
        var App = angular.module('drag-and-drop', ['jqyoui']);

        App.controller('oneCtrl', function($scope, $timeout) {
            console.log("oneCtrl");
           // $scope.list1 = [];
//                { 'title': null, 'drag': null },
//                { 'title': null, 'drag': null },
//                { 'title': null, 'drag': null },
//                { 'title': null, 'drag': null },
//                { 'title': null, 'drag': null },
//                { 'title': null, 'drag': null },
//                { 'title': null, 'drag': null },
//                { 'title': null, 'drag': null }
//            ];
            $scope.list2 = [];
            $scope.list3 = [];
            $scope.list4 = [];

            $scope.listOfChoices = [
                { 'title': 'Item 1', 'drag': true },
                { 'title': 'Item 2', 'drag': true },
                { 'title': 'Item 3', 'drag': true },
                { 'title': 'Item 4', 'drag': true },
                { 'title': 'Item 5', 'drag': true },
                { 'title': 'Item 6', 'drag': true },
                { 'title': 'Item 7', 'drag': true },
                { 'title': 'Item 8', 'drag': true }
            ];

            $scope.list1 = [];

            $scope.showLists = function() {
                var i = 0;
                console.log("\n\n=========\n");
                console.log("\nlist1:");
                for (i = 0; i < $scope.list1.length; i++) {
                    console.log("list1[" + i + "]= " + $scope.list1[i].title + "/" + $scope.list1[i].drag);
                }
                console.log("\nlistOfChoices:");
                for (i = 0; i < $scope.listOfChoices.length; i++) {
                    console.log("  listOfChoices[" + i + "]= " + $scope.listOfChoices[i].title + "/" + $scope.listOfChoices[i].drag);
                }
            }

            // Limit items to be dropped in list1
            $scope.optionsList1 = {
                accept: function(dragEl) {
//                    console.log("list1.length=" + $scope.list1.length);
//                    console.log('list5.length=' + $scope.list5.length);
//                    console.log("'" + trim(dragEl.text()) + "'")
                    return true;
                    if ($scope.list1.length >= 8) {
                        return false;
                    } else {
                        return true;
                    }
                },
                drop: function(event, ui) {
                    console.log("drop");
                    $(this).append($(ui.draggable).clone());
                },
                multiple:true
            };

            function trim(stringToTrim) {
                return stringToTrim.replace(/^\s+|\s+$/g, "");
            }

            $scope.optionsListOfChoices = {
                accept: function(dragEl) {
                    console.log('listOfChoices.length=' + $scope.listOfChoices.length);
                    return true;
                }
            };

            $scope.list1Drop = function(event, ui) {
                console.log("list1Drop");
//                $(this).append($(ui.draggable).clone());
            }

        });
    </script>
</head>
<body>
<div ng-controller="oneCtrl">
    <div class='contentWrapper ng-cloak'>
        <div class='content'>
            <div class="row-fluid">
                <ul class="thumbnails">
                    <li class="span6" style='margin-left:10px;'>
                        <div class="thumbnail" data-drop="true" ng-model='list1' jqyoui-droppable="{multiple:true}">
                             <!--data-jqyoui-options="optionsList1"-->

                            <div class="caption">
                                <div class="btn btn-info btn-draggable" ng-repeat="item in list1" ng-show="item.title"
                                     data-drag="true" data-jqyoui-options="{revert: 'invalid', helper:'clone'}"
                                     ng-model="list1"
                                     jqyoui-draggable="{index: {{$index}}, animate:true}">{{item.title}}</div>
                                    <!--<ng-switch on="item.title">-->
                                        <!--<div ng-switch-when="Item 1">-->
                                            <!--<input type=text placeholder="labelname">-->
                                            <!--<input type="text" placeholder="{{item.title}}">-->
                                        <!--</div>-->
                                        <!--<span ng-switch-default>{{item.title}}</span>-->
                                    <!--</ng-switch>-->
                                <!--</div>-->
                            </div>
                        </div>
                    </li>
                    <!--<li class="span3" style='margin-left:10px;'>-->
                    <!--<div class="thumbnail" data-drop="true" ng-model='list2' data-jqyoui-options="{accept:'.btn-draggable:not([ng-model=list2])'}"  jqyoui-droppable="{multiple:true}">-->
                    <!--<div class="caption">-->
                    <!--<div class="btn btn-info btn-draggable" ng-repeat="item in list2" ng-show="item.title" data-drag="{{item.drag}}" data-jqyoui-options="{revert: 'invalid'}" ng-model="list2" jqyoui-draggable="{index: {{$index}},animate:true}">{{item.title}}</div>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--</li>-->
                    <!--<li class="span3" style='margin-left:10px;'>-->
                    <!--<div class="thumbnail" data-drop="true" ng-model='list3' data-jqyoui-options="{accept:'.btn-draggable:not([ng-model=list3])'}"  jqyoui-droppable="{multiple:true}">-->
                    <!--<div class="caption">-->
                    <!--<div class="btn btn-info btn-draggable" ng-repeat="item in list3" ng-show="item.title" data-drag="{{item.drag}}" data-jqyoui-options="{revert: 'invalid'}" ng-model="list3" jqyoui-draggable="{index: {{$index}},animate:true}">{{item.title}}</div>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--</li>-->
                    <!--<li class="span3" style='margin-left:10px;'>-->
                    <!--<div class="thumbnail" data-drop="true" ng-model='list4' data-jqyoui-options="{accept:'.btn-draggable:not([ng-model=list4])'}"  jqyoui-droppable="{multiple:true}">-->
                    <!--<div class="caption">-->
                    <!--<div class="btn btn-info btn-draggable" ng-repeat="item in list4" ng-show="item.title" data-drag="{{item.drag}}" data-jqyoui-options="{revert: 'invalid'}" ng-model="list4" jqyoui-draggable="{index: {{$index}},animate:true}">{{item.title}}</div>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--</li>-->
                </ul>
            </div>
        </div>
    </div>
    <div class="navbar-inner">
        <div class="container form-inline" style="text-align: center;">
            <div class="btn btn-droppable" ng-repeat="item in listOfChoices" data-drop="true" ng-model='listOfChoices'
                 data-jqyoui-options="{revert: 'invalid', helper:'clone'}"
                 jqyoui-droppable="{index: {{$index}}}">
                <div class="btn btn-info btn-draggable" data-drag="true"
                     data-jqyoui-options="{revert: 'invalid'}" ng-model="listOfChoices"
                     jqyoui-draggable="{index: {{$index}},placeholder:true,animate:true}" ng-show="item.title">
                    {{item.title}}
                </div>
            </div>
        </div>
    </div>
    <button ng-click="showLists()">Show Lists</button>
</div>
</body>
</html>